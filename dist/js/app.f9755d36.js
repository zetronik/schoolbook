(function(e){function t(t){for(var s,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},r={app:0},n=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e._l(e.links,(function(t){return a("v-list-item",{key:t.title,attrs:{link:"",to:t.url}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),e.isUserLoggedIn?a("v-list-item",{attrs:{link:""},on:{click:e.onLogout}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-logout-variant")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Exit")])],1)],1):e._e()],2)],1),a("v-app-bar",{attrs:{dense:"",app:"","clipped-left":"",color:"primary"}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v("Application")]),a("v-spacer"),a("v-switch",{staticClass:"mt-6",model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1),a("v-content",[a("router-view")],1),e.error?[a("v-snackbar",{attrs:{left:!0,timeout:5e3,"multi-line":!0,color:"error",value:!0},on:{input:e.closeError}},[e._v(" "+e._s(e.error)+" "),a("v-btn",{attrs:{dark:""},nativeOn:{click:function(t){return e.closeError(t)}}},[e._v("close")])],1)]:e._e(),a("v-footer",{attrs:{app:"",color:"primary"}},[a("span",[e._v("© "+e._s(e.copyDate.getFullYear()))])])],2)},n=[],o={data:function(){return{drawer:null,copyDate:new Date,dark:!1}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}},computed:{error:function(){return this.$store.getters.error},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:"Home",url:"/",icon:"mdi-home"},{title:"Dashboard",url:"/dashboard",icon:"mdi-view-dashboard"},{title:"Settings",url:"/settings",icon:"mdi-settings"}]:[{title:"Home",url:"/",icon:"mdi-home"},{title:"Login",url:"/login",icon:"mdi-account"},{title:"Registration",url:"/registration",icon:"mdi-account-plus"}]}}},i=o,l=a("2877"),c=a("6544"),u=a.n(c),d=a("7496"),m=a("40dc"),v=a("5bc1"),h=a("8336"),p=a("a75b"),g=a("553a"),f=a("132d"),w=a("8860"),y=a("da13"),b=a("1800"),k=a("5d23"),x=a("f774"),D=a("2db4"),S=a("2fa4"),L=a("b73d"),$=a("2a7f"),_=Object(l["a"])(i,r,n,!1,null,"59e3231f",null),V=_.exports;u()(_,{VApp:d["a"],VAppBar:m["a"],VAppBarNavIcon:v["a"],VBtn:h["a"],VContent:p["a"],VFooter:g["a"],VIcon:f["a"],VList:w["a"],VListItem:y["a"],VListItemAction:b["a"],VListItemContent:k["a"],VListItemTitle:k["b"],VNavigationDrawer:x["a"],VSnackbar:D["a"],VSpacer:S["a"],VSwitch:L["a"],VToolbarTitle:$["b"]});var R=a("8aa5"),E=a("8c4f"),C=a("2f62"),W=(a("d3b7"),a("96cf"),a("d4ec")),P=function e(t){Object(W["a"])(this,e),this.id=t},T={state:{user:null},mutations:{setUser:function(e,t){e.user=t}},actions:{registerUser:function(e,t){var a,s,r,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,s=t.email,r=t.password,a("clearError"),a("setLoading",!0),o.prev=4,o.next=7,regeneratorRuntime.awrap(R["auth"]().createUserWithEmailAndPassword(s,r));case 7:n=o.sent,sessionStorage.id=n.uid,a("setUser",new P(n.uid)),a("setLoading",!1),o.next=18;break;case 13:throw o.prev=13,o.t0=o["catch"](4),a("setLoading",!1),a("setError",o.t0.message),o.t0;case 18:case"end":return o.stop()}}),null,null,[[4,13]])},loginUser:function(e,t){var a,s,r,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.commit,s=t.email,r=t.password,a("clearError"),a("setLoading",!0),o.prev=4,o.next=7,regeneratorRuntime.awrap(R["auth"]().signInWithEmailAndPassword(s,r));case 7:return n=o.sent,sessionStorage.id=n.user.uid,o.next=11,regeneratorRuntime.awrap(R["database"]().ref("".concat(n.user.uid,"/settings/")).once("value").then((function(e){if(e.val()&&e.val()){var t=e.val();a("setSettings",t)}})));case 11:sessionStorage.id=n.user.uid,a("setUser",new P(n.user.uid)),a("setLoading",!1),o.next=21;break;case 16:throw o.prev=16,o.t0=o["catch"](4),a("setLoading",!1),a("setError",o.t0.message),o.t0;case 21:case"end":return o.stop()}}),null,null,[[4,16]])},autoLoginUser:function(e,t){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),t.prev=3,t.next=6,regeneratorRuntime.awrap(R["auth"]().onAuthStateChanged((function(e){e?(sessionStorage.id=e.uid,a("setUser",new P(e.uid))):a("setUser",null)})));case 6:a("setLoading",!1),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](3),a("setLoading",!1),a("setError",t.t0.message),t.t0;case 14:case"end":return t.stop()}}),null,null,[[3,9]])},logoutUser:function(e){var t=e.commit;R["auth"]().signOut().catch((function(e){t("setError",e.message)})),t("setUser",null),localStorage.clear(),sessionStorage.clear()}},getters:{user:function(e){return e.user},isUserLoggedIn:function(e){return null!==e.user}}},I={state:{loading:!1,error:null},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null}},actions:{setLoading:function(e,t){var a=e.commit;a("setLoading",t)},setError:function(e,t){var a=e.commit;a("setError",t)},clearError:function(e){var t=e.commit;t("clearError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error}}},O=(a("b0c0"),{state:{items:[],level:null,group:null,select:null,name:"",surname:"",theme:!1,years:null,weeks:null,lessonWeek:[]},mutations:{setSettings:function(e,t){e.level=t.level,sessionStorage.level=t.level,e.group=t.group,sessionStorage.group=t.group,e.years=t.year,sessionStorage.years=t.year,e.name=t.name,sessionStorage.name=t.name,e.surname=t.surname,sessionStorage.surname=t.surname,e.select=t.school,sessionStorage.select=t.school,e.lessonWeek=t.lessons},setItems:function(e,t){e.items=t}},actions:{saveSetting:function(e,t){var a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),s.prev=3,s.next=6,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id,"/settings")).update(t));case 6:a("setLoading",!1),s.next=14;break;case 9:throw s.prev=9,s.t0=s["catch"](3),a("setError",s.t0.message),a("setLoading",!1),s.t0;case 14:case"end":return s.stop()}}),null,null,[[3,9]])},createDiary:function(e,t){var a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),s.prev=3,s.next=6,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id)).child("/diary").set(t[1]));case 6:return s.next=8,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id,"/settings")).update(t[0]));case 8:a("setLoading",!1),s.next=16;break;case 11:throw s.prev=11,s.t0=s["catch"](3),a("setError",s.t0.message),a("setLoading",!1),s.t0;case 16:case"end":return s.stop()}}),null,null,[[3,11]])},saveDiary:function(e,t){var a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),s.prev=3,s.next=6,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id,"/settings/")).child("lessons").update(t));case 6:a("setLoading",!1),s.next=14;break;case 9:throw s.prev=9,s.t0=s["catch"](3),a("setError",s.t0.message),a("setLoading",!1),s.t0;case 14:case"end":return s.stop()}}),null,null,[[3,9]])},schoolItem:function(e,t){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),t.prev=3,t.next=6,regeneratorRuntime.awrap(R["database"]().ref("school/49000").once("value").then((function(e){if(e.val()&&e.val()){var t=e.val();a("setItems",t)}})));case 6:a("setLoading",!1),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](3),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 14:case"end":return t.stop()}}),null,null,[[3,9]])}},getters:{}}),F=(a("99af"),{state:{weeks:null,lessonWeek:[],lessons:[]},mutations:{setLessonWeek:function(e,t){e.lessonWeek=t},setLessons:function(e,t){e.lessons=t}},actions:{syncDiary:function(e,t){var a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),s.prev=3,s.next=6,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id,"/diary/").concat(sessionStorage.years,"/").concat(this.state.diary.weeks)).update(t));case 6:a("setLoading",!1),s.next=14;break;case 9:throw s.prev=9,s.t0=s["catch"](3),a("setError",s.t0.message),a("setLoading",!1),s.t0;case 14:case"end":return s.stop()}}),null,this,[[3,9]])},pastWeeks:function(e,t){var a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),s.prev=3,s.next=6,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id,"/diary/").concat(sessionStorage.years,"/").concat(t)).once("value").then((function(e){if(e.val()&&e.val()){var t=e.val();a("setLessonWeek",t)}})));case 6:a("setLoading",!1),s.next=14;break;case 9:throw s.prev=9,s.t0=s["catch"](3),a("setError",s.t0.message),a("setLoading",!1),s.t0;case 14:case"end":return s.stop()}}),null,null,[[3,9]])},writeLessons:function(e,t){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,a("clearError"),a("setLoading",!0),t.prev=3,t.next=6,regeneratorRuntime.awrap(R["database"]().ref("".concat(sessionStorage.id,"/settings/lessons")).once("value").then((function(e){if(e.val()&&e.val()){var t=e.val();a("setLessons",t)}})));case 6:a("setLoading",!1),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](3),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 14:case"end":return t.stop()}}),null,null,[[3,9]])}},modules:{}});s["a"].use(C["a"]);var j=new C["a"].Store({state:{},mutations:{},actions:{},modules:{user:T,shared:I,settings:O,diary:F}}),U=function(e,t,a){j.getters.user?a():a("/login?loginError=true")},A=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home d-flex justify-center align-center"},[s("img",{attrs:{alt:"Vue logo",src:a("cf05")}})])}],Y={created:function(){}},q=Y,B=Object(l["a"])(q,A,M,!1,null,null,null),z=B.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"d-flex justify-space-between align-center ma-0"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",color:"info"},on:{click:e.pastWeeks}},[a("v-icon",{staticClass:"display-2",attrs:{dark:""}},[e._v("mdi-arrow-left-drop-circle-outline")])],1),a("p",{staticClass:"text-center title"},[e._v(e._s(e.weeks))]),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"info"},on:{click:e.nextWeeks}},[a("v-icon",{staticClass:"display-2",attrs:{dark:""}},[e._v("mdi-arrow-right-drop-circle-outline")])],1)],1),a("v-col",{attrs:{sm:"12",lg:"12"}},[a("lesson-week",{attrs:{diaryWeek:e.diaryWeek,start:e.start}})],1)],1)},N=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[e.loading?a("v-col",[a("v-progress-linear",{attrs:{indeterminate:"",color:"green"}})],1):a("v-col",{attrs:{sm:"12",lg:"12"}},[a("v-expansion-panels",e._l(e.diaryWeek,(function(t,s){return a("v-expansion-panel",{key:s},[a("v-expansion-panel-header",[e._v(e._s(t.dayWeeks))]),a("v-expansion-panel-content",[a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left title"},[e._v("Lesson")]),a("th",{staticClass:"text-left title"},[e._v("Homework")])])]),a("tbody",e._l(t.dayLesson,(function(r,n){return a("tr",{key:n},[a("td",[a("v-icon",{on:{click:function(a){return e.editHomework(r.lesson,t.dayLesson,n,s,r.homework)}}},[e._v("mdi-pencil")]),e._v(" "+e._s(r.lesson))],1),a("td",[e._v(" "+e._s(r.homework)+" ")])])})),0)]},proxy:!0}],null,!0)})],1)],1)})),1)],1),a("v-col",{staticClass:"d-flex justify-space-between align-center wrap",attrs:{cols:"12",md:"12"}},[a("v-btn",{attrs:{color:"secondary"},on:{click:e.syncDiary}},[e._v("Save")]),a("v-btn",{attrs:{loading:e.loading,color:"warning"},on:{click:e.download}},[e._v("Download")]),a("v-btn",{attrs:{color:"info"},on:{click:e.writeIn}},[e._v("Write in")])],1),a("v-col",{attrs:{sm:"12",lg:"12"}},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:e.saveDialog}},[e._v("Save")])],1)],1),a("v-input",{staticClass:"ma-2"},[e._v(" Lesson: "),a("v-text-field",{staticClass:"ml-1",attrs:{dense:""},model:{value:e.less,callback:function(t){e.less=t},expression:"less"}})],1),a("v-divider"),a("v-textarea",{staticClass:"ma-2",attrs:{outlined:"",width:"100%",name:"input-7-4",label:"Home work",value:e.work},model:{value:e.work,callback:function(t){e.work=t},expression:"work"}})],1)],1)],1)],1)},G=[],K=new Date,Q=(new Date).getFullYear(),Z=(new Date).getMonth(),X=K.getDay(),ee=new Date(K-864e5*(X-1)),te=0;new Date(Q,6,1,0,0,0,0).getTimezoneOffset()-K.getTimezoneOffset()===60&&(te=1);new Date(Q,Z,ee.getDate(),te,0,0,0).valueOf();var ae={props:["diaryWeek","start"],data:function(){return{dialog:!1,tab:null,weeks:null,day:null,index:null,less:"",work:""}},computed:{loading:function(){return this.$store.getters.loading}},methods:{editHomework:function(e,t,a,s,r){this.dialog=!0,this.less=e,this.day=s,this.index=a,this.work=r},saveDialog:function(){this.dialog=!1,this.$parent.diaryWeek[this.day].dayLesson[this.index].homework=this.work,this.$parent.diaryWeek[this.day].dayLesson[this.index].lesson=this.less},download:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("pastWeeks",this.start));case 2:this.$parent.diaryWeek=this.$store.state.diary.lessonWeek;case 3:case"end":return e.stop()}}),null,this)},writeIn:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("writeLessons"));case 2:this.$parent.diaryWeek=this.$store.state.diary.lessons,this.syncDiary();case 4:case"end":return e.stop()}}),null,this)},syncDiary:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.state.diary.lessonWeek=this.diaryWeek,this.$store.state.diary.weeks=this.start,e.next=4,regeneratorRuntime.awrap(this.$store.dispatch("syncDiary",this.diaryWeek));case 4:case"end":return e.stop()}}),null,this)}},created:function(){this.download()}},se=ae,re=a("b0af"),ne=a("62ad"),oe=a("169a"),ie=a("ce7e"),le=a("cd55"),ce=a("49e2"),ue=a("c865"),de=a("0393"),me=a("b675"),ve=a("8e36"),he=a("0fd9"),pe=a("1f4f"),ge=a("8654"),fe=a("a844"),we=a("71d9"),ye=Object(l["a"])(se,J,G,!1,null,"504552b4",null),be=ye.exports;u()(ye,{VBtn:h["a"],VCard:re["a"],VCol:ne["a"],VDialog:oe["a"],VDivider:ie["a"],VExpansionPanel:le["a"],VExpansionPanelContent:ce["a"],VExpansionPanelHeader:ue["a"],VExpansionPanels:de["a"],VIcon:f["a"],VInput:me["a"],VProgressLinear:ve["a"],VRow:he["a"],VSimpleTable:pe["a"],VSpacer:S["a"],VTextField:ge["a"],VTextarea:fe["a"],VToolbar:we["a"],VToolbarItems:$["a"],VToolbarTitle:$["b"]});var ke=new Date,xe=(new Date).getFullYear(),De=(new Date).getMonth(),Se=ke.getDay(),Le=new Date(ke-864e5*(Se-1)),$e=0;new Date(xe,6,1,0,0,0,0).getTimezoneOffset()-ke.getTimezoneOffset()===60&&($e=1);var _e=new Date(xe,De,Le.getDate(),$e,0,0,0).valueOf(),Ve={data:function(){return{start:_e,date:null,weeks:null,data:"",diaryWeek:[]}},methods:{download:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("pastWeeks",this.start));case 2:this.diaryWeek=this.$store.state.diary.lessonWeek;case 3:case"end":return e.stop()}}),null,this)},pastWeeks:function(){var e,t,a,s,r,n,o,i;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return e=this.date.valueOf()-6048e5,this.date=new Date(e),t=this.date.getDay(),a=new Date(e-864e5*(t-1)).getFullYear(),s=new Date(e+864e5*(7-t)).getFullYear(),r=new Date(e-864e5*(t-1)).getMonth()+1,r<10&&(r="0"+r),n=new Date(e+864e5*(7-t)).getMonth()+1,n<10&&(n="0"+n),o=new Date(e-864e5*(t-1)).getDate(),i=new Date(e+864e5*(7-t)).getDate(),this.start=this.start-6048e5,this.weeks="".concat(o,".").concat(r,".").concat(a,"-").concat(i,".").concat(n,".").concat(s),this.$store.state.diary.weeks=this.start,l.next=16,regeneratorRuntime.awrap(this.$store.dispatch("pastWeeks",this.start));case 16:this.diaryWeek=this.$store.state.diary.lessonWeek;case 17:case"end":return l.stop()}}),null,this)},nextWeeks:function(){var e,t,a,s,r,n,o,i;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return e=this.date.valueOf()+6048e5,this.date=new Date(e),t=this.date.getDay(),a=new Date(e-864e5*(t-1)).getFullYear(),s=new Date(e+864e5*(7-t)).getFullYear(),r=new Date(e-864e5*(t-1)).getMonth()+1,r<10&&(r="0"+r),n=new Date(e+864e5*(7-t)).getMonth()+1,n<10&&(n="0"+n),o=new Date(e-864e5*(t-1)).getDate(),i=new Date(e+864e5*(7-t)).getDate(),this.start=this.start+6048e5,this.weeks="".concat(o,".").concat(r,".").concat(a,"-").concat(i,".").concat(n,".").concat(s),this.$store.state.diary.weeks=this.start,l.next=16,regeneratorRuntime.awrap(this.$store.dispatch("pastWeeks",this.start));case 16:this.diaryWeek=this.$store.state.diary.lessonWeek;case 17:case"end":return l.stop()}}),null,this)}},components:{lessonWeek:be},created:function(){var e=Date.now();this.date=new Date(e);var t=this.date.getDay(),a=new Date(e-864e5*(t-1)).getFullYear(),s=new Date(e+864e5*(7-t)).getFullYear(),r=new Date(e-864e5*(t-1)).getMonth()+1;r<10&&(r="0"+r);var n=new Date(e+864e5*(7-t)).getMonth()+1;n<10&&(n="0"+n);var o=new Date(e-864e5*(t-1)).getDate(),i=new Date(e+864e5*(7-t)).getDate();this.weeks="".concat(o,".").concat(r,".").concat(a,"-").concat(i,".").concat(n,".").concat(s),this.$store.state.diary.weeks=this.weeks}},Re=Ve,Ee=Object(l["a"])(Re,H,N,!1,null,"18d812bc",null),Ce=Ee.exports;u()(Ee,{VBtn:h["a"],VCol:ne["a"],VIcon:f["a"],VRow:he["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{dense:"",label:"Surname"},model:{value:e.surname,callback:function(t){e.surname=t},expression:"surname"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{dense:"",items:e.items,"item-text":"school","item-value":"id",label:"School change","return-object":""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{dense:"",items:e.level,"item-text":"school","item-value":"id",label:"Class change","return-object":""},model:{value:e.levelSelect,callback:function(t){e.levelSelect=t},expression:"levelSelect"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{dense:"",items:e.group,"item-text":"school","item-value":"id",label:"Class change","return-object":""},model:{value:e.groupSelect,callback:function(t){e.groupSelect=t},expression:"groupSelect"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"secondary"},on:{click:e.saveUser}},[e._v("Save")])],1)],1)],1),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.selectYears,label:"Выбрать начало учебного года"},model:{value:e.years,callback:function(t){e.years=t},expression:"years"}}),a("v-btn",{attrs:{color:"secondary"},on:{click:e.createDiary}},[e._v("Create Diary")])],1)],1)],1),a("v-container",[a("v-row",{staticClass:"d-flex justify-space-around"},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("h3",{staticClass:"text--secondary text-center"},[e._v("Расписание уроков")]),a("v-btn",{attrs:{disabled:e.btnSave,loading:e.loading,color:"secondary"},on:{click:e.saveDiary}},[e._v("Save")]),a("v-btn",{attrs:{loading:e.loading,color:"accent"},on:{click:e.writeIn}},[e._v("Write in")])],1),e._l(e.diary,(function(t,s){return a("v-col",{attrs:{cols:"12",md:"4"}},[a("p",{staticClass:"text--primary text-center display-1"},[e._v(e._s(t.dayWeeks))]),e._l(t.dayLesson,(function(r,n){return a("v-text-field",{key:n,attrs:{dense:"","v-model":t.dayLesson[n],value:r.lesson},on:{change:function(t){return e.diarySave(s,t,n)}}})})),a("v-btn",{staticClass:"mx-1 float-left",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.minusLesson(s)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-minus")])],1),a("v-btn",{staticClass:"mx-1 float-right",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.plusLesson(s)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)],2)}))],2)],1)],1)},Pe=[],Te=(a("7db0"),a("ade3")),Ie={data:function(){return{name:"",surname:"",groupSelect:null,group:["А","Б","В","Г","Д"],levelSelect:null,level:["1","2","3","4","5","6","7","8","9","10","11","12"],select:{school:"",id:""},items:[],years:(new Date).getFullYear(),book:{},btnSave:!1,diary:null,base:[{dayWeeks:"Понедельник",dayLesson:[{lesson:"",homework:""}]},{dayWeeks:"Втоник",dayLesson:[{lesson:"",homework:""}]},{dayWeeks:"Среда",dayLesson:[{lesson:"",homework:""}]},{dayWeeks:"Четверг",dayLesson:[{lesson:"",homework:""}]},{dayWeeks:"Пятница",dayLesson:[{lesson:"",homework:""}]},{dayWeeks:"Суббота",dayLesson:[{lesson:"",homework:""}]}]}},computed:{loading:function(){return this.$store.getters.loading},selectYears:function(){var e=this.years-1,t=this.years,a=this.years+1;return[e,t,a]}},methods:{writeIn:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("writeLessons"));case 2:this.diary=this.$store.state.diary.lessons;case 3:case"end":return e.stop()}}),null,this)},createDiary:function(){var e,t,a,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:for(e=new Date(this.years,8,1,1,0,0,0),t=e.valueOf(),6===e.getDay()?t+=1728e5:0===e.getDay()&&(t+=864e5),a=0;a<43;a++)this.book[t]=this.base,t+=6048e5;return s=[{year:this.years,lessons:this.base},Object(Te["a"])({},this.years,this.book)],r.next=7,regeneratorRuntime.awrap(this.$store.dispatch("createDiary",s));case 7:this.$store.state.settings.year=this.years,sessionStorage.years=this.years,this.writeIn();case 10:case"end":return r.stop()}}),null,this)},saveUser:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.settings.select=this.select.id,sessionStorage.select=this.select.id,this.$store.state.settings.name=this.name,sessionStorage.name=this.name,this.$store.state.settings.surname=this.surname,sessionStorage.surname=this.surname,e={level:this.levelSelect,group:this.groupSelect,school:this.select.id,name:this.name,surname:this.surname},t.next=9,regeneratorRuntime.awrap(this.$store.dispatch("saveSetting",e));case 9:case"end":return t.stop()}}),null,this)},saveDiary:function(){var e=new Date,t=(new Date).getFullYear(),a=(new Date).getMonth(),s=e.getDay(),r=new Date(e-864e5*(s-1)),n=0;new Date(t,6,1,0,0,0,0).getTimezoneOffset()-e.getTimezoneOffset()===60&&(n=1);new Date(t,a,r.getDate(),n,0,0,0).valueOf();this.$store.state.settings.lessonWeek=this.diary,this.$store.dispatch("saveDiary",this.diary)},diarySave:function(e,t,a){this.diary[e].dayLesson[a].lesson=t,this.bool(e)},minusLesson:function(e){1===this.diary[e].dayLesson.length?this.diary[e].dayLesson[0]={lesson:"",homework:""}:this.diary[e].dayLesson.pop()},plusLesson:function(e){this.diary[e].dayLesson.push({lesson:"",homework:""})},bool:function(e){this.diary[e].dayLesson.length>1?this.btnSave=!1:this.btnSave=!0}},created:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch("schoolItem"));case 2:this.diary||(this.writeIn(),this.btnSave=!0),"undefined"===sessionStorage.years?this.years=(new Date).getFullYear():this.years=sessionStorage.years,0!==sessionStorage.length&&(this.select=this.$store.state.settings.items.find((function(e){return e.id===sessionStorage.select})),this.name=sessionStorage.name,this.surname=sessionStorage.surname,this.levelSelect=sessionStorage.level,this.groupSelect=sessionStorage.group),this.items=this.$store.state.settings.items;case 6:case"end":return e.stop()}}),null,this)},beforeDestroy:function(){this.items=[]}},Oe=Ie,Fe=a("a523"),je=a("4bd4"),Ue=a("b974"),Ae=Object(l["a"])(Oe,We,Pe,!1,null,"5923311c",null),Me=Ae.exports;u()(Ae,{VBtn:h["a"],VCol:ne["a"],VContainer:Fe["a"],VForm:je["a"],VIcon:f["a"],VRow:he["a"],VSelect:Ue["a"],VTextField:ge["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.auth.logForm")))])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-at",name:"email",label:e.$vuetify.lang.t("$vuetify.auth.email"),type:"email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-lock-question",name:"password",label:e.$vuetify.lang.t("$vuetify.auth.password"),type:"password",counter:6,rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.valid||e.loading},on:{click:e.onSubmit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.auth.login")))])],1)],1)],1)],1)],1)},qe=[],Be=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,ze={data:function(){return{email:"",password:"",valid:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return Be.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be equal or more than 6 characters"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var e=this;if(this.$refs.form.validate()){var t={email:this.email,password:this.password};this.$store.dispatch("loginUser",t).then((function(){e.$router.push("/")})).catch((function(){}))}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")},beforeCreate:function(){}},He=ze,Ne=a("99d9"),Je=a("0e8f"),Ge=a("a722"),Ke=Object(l["a"])(He,Ye,qe,!1,null,null,null),Qe=Ke.exports;u()(Ke,{VBtn:h["a"],VCard:re["a"],VCardActions:Ne["a"],VCardText:Ne["b"],VContainer:Fe["a"],VFlex:Je["a"],VForm:je["a"],VLayout:Ge["a"],VSpacer:S["a"],VTextField:ge["a"],VToolbar:we["a"],VToolbarTitle:$["b"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify.auth.regForm")))])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-at",name:"email",label:e.$vuetify.lang.t("$vuetify.auth.email"),type:"email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-lock-question",name:"password",label:e.$vuetify.lang.t("$vuetify.auth.password"),type:"password",counter:6,rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-lock-question",name:"confirm-password",label:e.$vuetify.lang.t("$vuetify.auth.confirm"),type:"password",counter:6,rules:e.confirmPasswordRules},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.valid||e.loading},on:{click:e.onSubmit}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.auth.registration")))])],1)],1)],1)],1)],1)},Xe=[],et=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,tt={data:function(){var e=this;return{email:"",password:"",confirmPassword:"",valid:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return et.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=6||"Password must be equal or more than 6 characters"}],confirmPasswordRules:[function(e){return!!e||"Password is required"},function(t){return t===e.password||"Password should match"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var e=this;if(this.$refs.form.validate()){var t={email:this.email,password:this.password};this.$store.dispatch("registerUser",t).then((function(){e.$router.push("/settings")})).catch((function(){}))}}}},at=tt,st=Object(l["a"])(at,Ze,Xe,!1,null,null,null),rt=st.exports;u()(st,{VBtn:h["a"],VCard:re["a"],VCardActions:Ne["a"],VCardText:Ne["b"],VContainer:Fe["a"],VFlex:Je["a"],VForm:je["a"],VLayout:Ge["a"],VSpacer:S["a"],VTextField:ge["a"],VToolbar:we["a"],VToolbarTitle:$["b"]}),s["a"].use(E["a"]);var nt=[{path:"*",name:"404",component:z},{path:"/",name:"home",component:z},{path:"/dashboard",name:"dashboard",component:Ce,AuthGuard:U},{path:"/settings",name:"settings",component:Me,AuthGuard:U},{path:"/login",name:"login",component:Qe},{path:"/registration",name:"registration",component:rt}],ot=new E["a"]({mode:"history",base:"/",routes:nt}),it=ot,lt=a("f309"),ct=(a("5363"),{auth:{logForm:"Форма входа",regForm:"Форма регистрации",email:"Электронная почта",password:"Пароль",confirm:"Подтвердить пароль",login:"Вход",registration:"Регистрация"},close:"Закрыть",dataIterator:{noResultsText:"Не найдено подходящих записей",loadingText:"Запись загружается..."},dataTable:{itemsPerPageText:"Строк на странице:",ariaLabel:{sortDescending:": Упорядочено по убыванию. Активируйте, чтобы убрать сортировку.",sortAscending:": Упорядочено по возрастанию. Активируйте для упорядочивания убыванию.",sortNone:": Не упорядочено. Активируйте для упорядочивания по возрастанию."},sortBy:"Сортировать по"},dataFooter:{itemsPerPageText:"Записей на странице:",itemsPerPageAll:"Все",nextPage:"Следующая страница",prevPage:"Предыдущая страница",firstPage:"Первая страница",lastPage:"Последняя страница",pageText:"{0}-{1} из {2}"},datePicker:{itemsSelected:"{0} выбран"},noDataText:"Отсутствуют данные",carousel:{prev:"Предыдущий слайд",next:"Следующий слайд",ariaLabel:{delimiter:"Слайд {0} из {1}"}},calendar:{moreEvents:"Еще {0}"},fileInput:{counter:"Файлов: {0}",counterSize:"Файлов: {0} (всего {1})"},timePicker:{am:"AM",pm:"PM"}});s["a"].use(lt["a"]);var ut=new lt["a"]({lang:{locales:{ru:ct},current:"ru"},icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#00bcd4",secondary:"#3f51b5",accent:"#ff5722",error:"#f44336",warning:"#ff9800",info:"#8bc34a",success:"#607d8b"},dark:{primary:"#BB86FC",secondary:"#03DAC6",accent:"#ff0266",error:"#CF6679",warning:"#8bc34a",info:"#ff9800",success:"#607d8b"}},dark:!1}});s["a"].config.productionTip=!1,new s["a"]({created:function(){var e=this;R["initializeApp"]({apiKey:"AIzaSyDage8vuqbCZcxp3CqyUQnk8vJEMy2Jyck",authDomain:"schoolbook-dpua.firebaseapp.com",databaseURL:"https://schoolbook-dpua.firebaseio.com",projectId:"schoolbook-dpua",storageBucket:"schoolbook-dpua.appspot.com",messagingSenderId:"667452590955",appId:"1:667452590955:web:fb91217b5043f409b41a2e",measurementId:"G-NRNMDSC0C6"}),R["auth"]().onAuthStateChanged((function(t){t&&e.$store.dispatch("autoLoginUser",t).then((function(e){}))}))},router:it,store:j,vuetify:ut,render:function(e){return e(V)}}).$mount("#app")},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.f9755d36.js.map